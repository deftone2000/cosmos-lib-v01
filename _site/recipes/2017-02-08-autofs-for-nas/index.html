<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Autofs | COSMO’S Lib</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Autofs" />
<meta name="author" content="코스모" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Autofs를 이용한 맥과 NAS 드라이브 연결과 관리 방법입니다." />
<meta property="og:description" content="Autofs를 이용한 맥과 NAS 드라이브 연결과 관리 방법입니다." />
<link rel="canonical" href="http://localhost:4000/cosmos-lib-v01/recipes/2017-02-08-autofs-for-nas/" />
<meta property="og:url" content="http://localhost:4000/cosmos-lib-v01/recipes/2017-02-08-autofs-for-nas/" />
<meta property="og:site_name" content="COSMO’S Lib" />
<meta property="og:image" content="http://localhost:4000/cosmos-lib-v01/images/auto-foce.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-08T00:00:00+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/cosmos-lib-v01/images/auto-foce.png" />
<meta property="twitter:title" content="Autofs" />
<meta name="twitter:site" content="@deftone2000" />
<meta name="twitter:creator" content="@deftone2000" />
<script type="application/ld+json">
{"headline":"Autofs","dateModified":"2017-02-08T00:00:00+09:00","datePublished":"2017-02-08T00:00:00+09:00","url":"http://localhost:4000/cosmos-lib-v01/recipes/2017-02-08-autofs-for-nas/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/cosmos-lib-v01/recipes/2017-02-08-autofs-for-nas/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/cosmos-lib-v01/images/cosmo's-site-logo.png"},"name":"코스모"},"author":{"@type":"Person","name":"코스모"},"description":"Autofs를 이용한 맥과 NAS 드라이브 연결과 관리 방법입니다.","image":{"thumbnail":"/images/auto-foce01.png","caption":"Photo from [COSMO'S](https://www.instagram.com/deftone2000)","url":"http://localhost:4000/cosmos-lib-v01/images/auto-foce.png","@type":"imageObject"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/cosmos-lib-v01/assets/css/main.css">
  <link rel="stylesheet" href="/cosmos-lib-v01/assets/css/skins/default.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,100i,500,500i|Nanum+Gothic:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="COSMO&#39;S Lib" href="/cosmos-lib-v01/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/cosmos-lib-v01/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/cosmos-lib-v01/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/cosmos-lib-v01/favicon-16x16.png">
<link rel="manifest" href="/cosmos-lib-v01/site.webmanifest">
<link rel="mask-icon" href="/cosmos-lib-v01/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

</head>


  <body class="layout--post  autofs">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/cosmos-lib-v01/posts/">Post</a></li><li><a href="/cosmos-lib-v01/categories/">Category</a></li><li><a href="/cosmos-lib-v01/tags/">Tag</a></li><li><a href="/cosmos-lib-v01/recipes/">Favor</a></li><li><a href="/cosmos-lib-v01/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/cosmos-lib-v01/" class="site-logo" rel="home" title="COSMO'S Lib">
        <img src="/cosmos-lib-v01/images/cosmo's-site-logo.png" class="site-logo-img animated fadeInDown" alt="COSMO'S Lib">
      </a>
    
    
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    
  
  
  

  <div class="page-image">
    <img src="/cosmos-lib-v01/images/auto-foce.png" class="entry-feature-image u-photo" alt="Autofs" >
    
      <div class="page-image-caption"><p>Photo from <a href="https://www.instagram.com/deftone2000">COSMO’S</a></p>
</div>
    
  </div>


    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Autofs
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><img src="/cosmos-lib-v01/images/jungsoo-lim-photo.jpg" class="author-avatar u-photo" alt="코스모"><div class="author-info"><div class="author-name">
        <em>by</em> <span class="p-name">코스모</span>
      </div><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href="https://twitter.com/deftone2000"><i class="fab fa-twitter-square fa-lg" title="Twitter"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://instagram.com/deftone2000"><i class="fab fa-instagram fa-lg" title="Instagram"></i></a>
          </li><li class="author-link">
            <a class="u-url" rel="me" href="https://github.com/deftone2000"><i class="fab fa-github-square fa-lg" title="GitHub"></i></a>
          </li></ul>

<span class="read-time">2 min read</span>

    <time class="page-date dt-published" datetime="2017-02-08T00:00:00+09:00"><a class="u-url" href="">February 8, 2017</a>
</time>

  </div>
</div>

        

        

      </div>

      <div class="page-content">
        <div class="e-content">
          <p>Autofs를 이용한 맥과 NAS 드라이브 연결과 관리 방법입니다. <!--more--> Synology NAS 를 도입한 후 다양한 활용 방법을 시도해 보면서 즐겁게 사용하고 있습니다. 플랫폼과 디바이스 종류에 상관없이 매우 넉넉한 저장공간을 장소의 제약 없이 사용하는 것은 큰 장점입니다. 특히 맥북과 연동할 때는 네트워크 드라이브를 연결하여 사용하는 경우가 많습니다. 다음은 Finder 메뉴를 이용한 NAS 드라이브와 맥을 연결 시키는 방법입니다.</p>

<h3 id="기본적인-nas-드라이버와-맥북-연결">기본적인 NAS 드라이버와 맥북 연결</h3>
<p>Finder &gt; 이동 &gt; 서버에 연결(⌘+K)을 선택하고 URL, IP 주소 또는 DNS 이름을 입력합니다. 이 방법은 간단하지만 NAS나 맥을 재시작 할 경우 매번 다시 설정해야하는 불편함이 있습니다. 그래서 재시작시 NAS 드라이브가 마운트 되는 스크립트를 실행 시키는 방법이 있지만 이것도 문제가 있습니다. 제가 사용하는 Synology NAS의 경우 일정시간 동안 사용하지 않으면 잠자기모드를 자동으로 설정합니다. 이는 디스크의 수명을 보존하고 사용하지 않을 때는 소비 전력을 감소시켜서 유용합니다. 하지만 맥북을 재시작 할때만 NAS 드라이브에 접근하기 때문에 이러한 장점을 활용할 수 없게 됩니다.</p>

<p>autofs<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>를 사용하면 파일 접근이 필요한 경우에 OS X에서 네트워크 드라이브를 자동으로 마운트해줍니다. 이는 맥과 NAS 상태에 상관 없이 사용자의 필요에 따라 자동으로 연결이 유지된다는 의미입니다.</p>

<h3 id="autofs를-활용하여-nas-드라이버와-맥북-연결">autofs를 활용하여 NAS 드라이버와 맥북 연결</h3>
<p><code class="language-plaintext highlighter-rouge">Step 1</code> 다음을 터미널에서 실행하여 <code class="language-plaintext highlighter-rouge">auto_master</code><sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>를 열어줍니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo nano /etc/auto_master
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Step 2</code> 자신의 로그인 암호를 입력하면 편집모드로 진입하며, 다음과 같이 수정합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># Automounter master map</span>
<span class="c">#</span>
+auto_master		<span class="c"># Use directory service</span>
/net			<span class="nt">-hosts</span>		<span class="nt">-nobrowse</span>,hidefromfinder,nosuid
/home			auto_home	<span class="nt">-nobrowse</span>,hidefromfinder
/Network/Servers	<span class="nt">-fstab</span>
/-			<span class="nt">-static</span>
/mypath		/etc/auto_nas
</code></pre></div></div>
<p>처음 autofs 사용하는 경우 마지막 줄을 추가하시면 됩니다. <code class="language-plaintext highlighter-rouge">/mypath</code>는 마운트되는 경로와 이름입니다. <code class="language-plaintext highlighter-rouge">/etc/auto_nas</code>는 마운트 세부설정 파일과 경로입니다.</p>

<p><code class="language-plaintext highlighter-rouge">Step 3</code> auto_nas 파일을 지정한 경로에 만들어 줍니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>nano /etc/auto_nas
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Step 4</code> auto_nas 를 사용환경에 맞게 편집합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>document <span class="nt">-fstype</span><span class="o">=</span>afp afp://username:password@192.168.0.100/document
</code></pre></div></div>
<p>저의 경우 afp를 사용하지만 smb, webdav도 사용할 수 있습니다. 당연히 공유폴더명, 아이디, 비밀번호, 연결주소는 각각 사용환경에 따라 변경합니다.</p>

<p><code class="language-plaintext highlighter-rouge">Step 5</code> 설정한 autofs 를 실행하고 확인합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>automount <span class="nt">-vc</span>
</code></pre></div></div>

<p>정상적으로 설정이 되었다면 다음과 같은 출력을 확인 할 수 있습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>automount: /net updated
automount: /home updated
automount: /mnt/NAS mounted
automount: no unmounts
</code></pre></div></div>

<hr />

<ul>
  <li><a href="http://blog.grapii.com/2015/06/keep-network-drives-mounted-on-mac-os-x-using-autofs/">Keep Network Drives Mounted on Mac OS X using Autofs</a></li>
  <li><a href="http://jmjeong.com/autofs/">autofs를 이용한 nas 자동 접속</a></li>
</ul>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>utility that will mount network volumes on your OS X system <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>autofs 환경설정 파일(auto_master : 주 설정, auto_mic : 추가설정) <a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        </div>

        
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fcosmos-lib-v01%2Frecipes%2F2017-02-08-autofs-for-nas%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Autofs%20http%3A%2F%2Flocalhost%3A4000%2Fcosmos-lib-v01%2Frecipes%2F2017-02-08-autofs-for-nas%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fcosmos-lib-v01%2Frecipes%2F2017-02-08-autofs-for-nas%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Autofs&url=http%3A%2F%2Flocalhost%3A4000%2Fcosmos-lib-v01%2Frecipes%2F2017-02-08-autofs-for-nas%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

        

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/cosmos-lib-v01/recipes/2017-02-06-finder-open-terminal/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> 터미널에서 경로이동 쉽게 하기

      </span>
    </a>
  

  
    <a class="page-next" href="/cosmos-lib-v01/recipes/2017-05-06-imbroglio/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Imbroglio
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="https://twitter.com/deftone2000"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://instagram.com/deftone2000"><i class="fab fa-instagram fa-2x" title="Instagram"></i></a><a class="social-icon" href="https://github.com/deftone2000"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="/cosmos-lib-v01/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2020 COSMO'S Lib. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/cosmos-lib-v01/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


<!-- MathJax -->

<script>
// http://docs.mathjax.org/en/latest/upgrading/v2.html
MathJax = {
  tex: {
      tags: "ams"    // eq numbering options: none, ams, all
  },
  options: {
    renderActions: {
      // for mathjax 3, handle <script "math/tex"> blocks inserted by kramdown
      find: [10, function (doc) {
        for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
          const display = !!node.type.match(/; *mode=display/);
          const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
          const text = document.createTextNode('');
          node.parentNode.replaceChild(text, node);
          math.start = {node: text, delim: '', n: 0};
          math.end = {node: text, delim: '', n: 0};
          doc.math.push(math);
        }
      }, '']
    }
  }
}
</script>

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  </body>

</html>
